{"version":3,"sources":["components/Header.js","components/Footer.js","layouts/PageLayout.js","libs/EquirectangularToCubeGenerator.js","libs/PMREMCubeUVPacker.js","libs/PMREMGenerator.js","components/MainScene.js","components/SettingUI.js","containers/Home.js","Main.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","Footer","PageLayout","this","props","children","Component","EquirectangularToCubeGenerator","camera","PerspectiveCamera","scene","Scene","boxMesh","Mesh","BoxBufferGeometry","shaderMaterial","ShaderMaterial","uniforms","value","vertexShader","fragmentShader","blending","NoBlending","type","getShader","material","side","BackSide","add","sourceTexture","options","resolution","views","t","u","params","format","magFilter","minFilter","generateMipmaps","anisotropy","encoding","renderTarget","WebGLRenderTargetCube","prototype","constructor","update","renderer","currentRenderTarget","getRenderTarget","equirectangularMap","i","v","position","set","up","lookAt","setRenderTarget","clear","render","texture","dispose","PMREMCubeUVPacker","OrthographicCamera","shader","Vector3","cubeTextureLods","cubeLods","size","width","RGBEEncoding","RGBM16Encoding","LinearFilter","CubeUVRenderTarget","WebGLRenderTarget","name","mapping","CubeUVReflectionMapping","objects","geometry","PlaneBufferGeometry","faceOffsets","push","Vector2","textureResolution","offset2","c","numLods","Math","log","offset1","nMips","mipOffsetX","mipOffsetY","mipSize","j","k","clone","envMap","planeMesh","x","y","scale","setScalar","left","right","top","bottom","near","far","updateProjectionMatrix","length","gammaInput","gammaOutput","toneMapping","toneMappingExposure","LinearToneMapping","remove","l","PMREMGenerator","defines","DoubleSide","samplesPerLevel","undefined","monotonicEncoding","LinearEncoding","GammaEncoding","sRGBEncoding","NearestFilter","max","tFlip","isCubeTexture","needsUpdate","r","renderToCubeMapTarget","renderToCubeMapTargetFace","faceIndex","MainScene","state","height","initPostprocessing","composer","POSTPROCESSING","addPass","vignetteEffect","eskil","offset","darkness","brightnessContrastEffect","contrast","brightness","gammaCorrectionEffect","gamma","areaImage","Image","src","areaImageDataURL","searchImage","searchImageDataURL","smaaEffect","bloomEffect","intensity","luminanceThreshold","luminanceSmoothing","resolutionScale","hueSaturationEffect","hue","saturation","effectPass","renderToScreen","updatePostprocessing","ref","el","mainScene","self","timer","clock","THREE","loadingManager","onStart","url","itemsLoaded","itemsTotal","onLoad","console","gun","rootObj","traverse","child","isMesh","envMapIntensity","onProgress","onError","textureLoader","cubeTextureLoader","gltfLoader","GLTFLoader","rgbeLoader","RGBELoader","background","window","innerWidth","innerHeight","antialias","alpha","setSize","setPixelRatio","devicePixelRatio","autoClear","gammaFactor","shadowMap","enabled","appendChild","domElement","cameraCtrl","OrbitControls","enableDamping","screenSpacePanning","dampingFactor","minDistance","maxDistance","rotateSpeed","panSpeed","target","resizeObserver","ResizeObserver","entries","contentRect","setState","floor","observe","hemiLight","light","dirLight","castShadow","shadow","mapSize","setDataType","setPath","load","cubeGenerator","pmremGenerator","pmremCubeUVPacker","loadTable","animate","model","fitCameraToObject","id","loadGLTF","object","boundingBox","setFromObject","center","getCenter","getSize","maxDim","z","cameraZ","fov","PI","abs","minZ","min","cameraToFarEdge","saveState","requestAnimationFrame","bind","getDelta","prevProps","prevState","snapshot","aspect","disconnect","React","useStyles","makeStyles","theme","margin","spacing","formControl","minWidth","SettingUI","classes","useState","tableID","open","setOpen","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","Typography","heading","ExpansionPanelDetails","FormControl","InputLabel","Select","labelId","onClose","onOpen","onChange","event","MenuItem","Home","Main","basename","exact","path","component","App","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.37ef819f.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = () => (\n  <header className=\"site-header\">\n  </header>\n);\n\nexport default Header;","import React from 'react';\n\nconst Footer = () => (\n  <footer className=\"site-footer\">\n  </footer>\n);\n\nexport default Footer;","import React, {Component} from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\n\nclass PageLayout extends Component {\n  render() {\n    return (\n      <div>\n        <Header/>\n        <main>\n          {this.props.children}\n        </main>\n        <Footer/>\n      </div>\n    );\n  }\n}\n\nexport default PageLayout;","/**\n* @author Richard M. / https://github.com/richardmonette\n* @author WestLangley / http://github.com/WestLangley\n*/\n\nimport {\n\tBackSide,\n\tBoxBufferGeometry,\n\tCubeCamera,\n\tMesh,\n\tNoBlending,\n\tPerspectiveCamera,\n\tScene,\n\tShaderMaterial,\n\tUniformsUtils,\n\tWebGLRenderTargetCube\n} from \"three\";\n\nvar CubemapGenerator = function ( renderer ) {\n\n\tthis.renderer = renderer;\n\n};\n\nCubemapGenerator.prototype.fromEquirectangular = function ( texture, options ) {\n\n\toptions = options || {};\n\n\tvar scene = new Scene();\n\n\tvar shader = {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader:\n\n\t\t\t`\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t//include <common>\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t\t`,\n\n\t\tfragmentShader:\n\n\t\t\t`\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t//include <common>\n\t\t\t#define RECIPROCAL_PI 0.31830988618\n\t\t\t#define RECIPROCAL_PI2 0.15915494\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV;\n\n\t\t\t\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\n\t\t\t\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t\t`\n\t};\n\n\tvar material = new ShaderMaterial( {\n\n\t\ttype: 'CubemapFromEquirect',\n\n\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\tvertexShader: shader.vertexShader,\n\t\tfragmentShader: shader.fragmentShader,\n\t\tside: BackSide,\n\t\tblending: NoBlending\n\n\t} );\n\n\tmaterial.uniforms.tEquirect.value = texture;\n\n\tvar mesh = new Mesh( new BoxBufferGeometry( 5, 5, 5 ), material );\n\n\tscene.add( mesh );\n\n\tvar resolution = options.resolution || 512;\n\n\tvar params = {\n\t\ttype: texture.type,\n\t\tformat: texture.format,\n\t\tencoding: texture.encoding,\n\t\tgenerateMipmaps: ( options.generateMipmaps !== undefined ) ? options.generateMipmaps : texture.generateMipmaps,\n\t\tminFilter: ( options.minFilter !== undefined ) ? options.minFilter : texture.minFilter,\n\t\tmagFilter: ( options.magFilter !== undefined ) ? options.magFilter : texture.magFilter\n\t};\n\n\tvar camera = new CubeCamera( 1, 10, resolution, params );\n\n\tcamera.update( this.renderer, scene );\n\n\tmesh.geometry.dispose();\n\tmesh.material.dispose();\n\n\treturn camera.renderTarget;\n\n};\n\n//\n\nvar EquirectangularToCubeGenerator = ( function () {\n\n\tvar camera = new PerspectiveCamera( 90, 1, 0.1, 10 );\n\tvar scene = new Scene();\n\tvar boxMesh = new Mesh( new BoxBufferGeometry( 1, 1, 1 ), getShader() );\n\tboxMesh.material.side = BackSide;\n\tscene.add( boxMesh );\n\n\tvar EquirectangularToCubeGenerator = function ( sourceTexture, options ) {\n\n\t\toptions = options || {};\n\n\t\tthis.sourceTexture = sourceTexture;\n\t\tthis.resolution = options.resolution || 512;\n\n\t\tthis.views = [\n\t\t\t{ t: [ 1, 0, 0 ], u: [ 0, - 1, 0 ] },\n\t\t\t{ t: [ - 1, 0, 0 ], u: [ 0, - 1, 0 ] },\n\t\t\t{ t: [ 0, 1, 0 ], u: [ 0, 0, 1 ] },\n\t\t\t{ t: [ 0, - 1, 0 ], u: [ 0, 0, - 1 ] },\n\t\t\t{ t: [ 0, 0, 1 ], u: [ 0, - 1, 0 ] },\n\t\t\t{ t: [ 0, 0, - 1 ], u: [ 0, - 1, 0 ] },\n\t\t];\n\n\t\tvar params = {\n\t\t\tformat: options.format || this.sourceTexture.format,\n\t\t\tmagFilter: this.sourceTexture.magFilter,\n\t\t\tminFilter: this.sourceTexture.minFilter,\n\t\t\ttype: options.type || this.sourceTexture.type,\n\t\t\tgenerateMipmaps: this.sourceTexture.generateMipmaps,\n\t\t\tanisotropy: this.sourceTexture.anisotropy,\n\t\t\tencoding: this.sourceTexture.encoding\n\t\t};\n\n\t\tthis.renderTarget = new WebGLRenderTargetCube( this.resolution, this.resolution, params );\n\n\t};\n\n\tEquirectangularToCubeGenerator.prototype = {\n\n\t\tconstructor: EquirectangularToCubeGenerator,\n\n\t\tupdate: function ( renderer ) {\n\n\t\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tboxMesh.material.uniforms.equirectangularMap.value = this.sourceTexture;\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tvar v = this.views[ i ];\n\n\t\t\t\tcamera.position.set( 0, 0, 0 );\n\t\t\t\tcamera.up.set( v.u[ 0 ], v.u[ 1 ], v.u[ 2 ] );\n\t\t\t\tcamera.lookAt( v.t[ 0 ], v.t[ 1 ], v.t[ 2 ] );\n\n\t\t\t\trenderer.setRenderTarget( this.renderTarget, i );\n\t\t\t\trenderer.clear();\n\t\t\t\trenderer.render( scene, camera );\n\n\t\t\t}\n\n\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\treturn this.renderTarget.texture;\n\n\t\t},\n\n\t\tdispose: function () {\n\n\t\t\tthis.renderTarget.dispose();\n\n\t\t}\n\n\t};\n\n\tfunction getShader() {\n\n\t\tvar shaderMaterial = new ShaderMaterial( {\n\n\t\t\tuniforms: {\n\t\t\t\t\"equirectangularMap\": { value: null },\n\t\t\t},\n\n\t\t\tvertexShader:\n\t\t\t\t\"varying vec3 localPosition;\\n\\\n\t\t\t\t\\n\\\n\t\t\t\tvoid main() {\\n\\\n\t\t\t\t\tlocalPosition = position;\\n\\\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\n\t\t\t\t}\",\n\n\t\t\tfragmentShader:\n\t\t\t\t\"#include <common>\\n\\\n\t\t\t\tvarying vec3 localPosition;\\n\\\n\t\t\t\tuniform sampler2D equirectangularMap;\\n\\\n\t\t\t\t\\n\\\n\t\t\t\tvec2 EquirectangularSampleUV(vec3 v) {\\n\\\n\t\t\t\t\tvec2 uv = vec2(atan(v.z, v.x), asin(v.y));\\n\\\n\t\t\t\t\tuv *= vec2(0.1591, 0.3183); // inverse atan\\n\\\n\t\t\t\t\tuv += 0.5;\\n\\\n\t\t\t\t\treturn uv;\\n\\\n\t\t\t\t}\\n\\\n\t\t\t\t\\n\\\n\t\t\t\tvoid main() {\\n\\\n\t\t\t\t\tvec2 uv = EquirectangularSampleUV(normalize(localPosition));\\n\\\n\t\t\t\t\tgl_FragColor = texture2D(equirectangularMap, uv);\\n\\\n\t\t\t\t}\",\n\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tshaderMaterial.type = 'EquirectangularToCubeGenerator';\n\n\t\treturn shaderMaterial;\n\n\t}\n\n\treturn EquirectangularToCubeGenerator;\n\n} )();\n\nexport { CubemapGenerator, EquirectangularToCubeGenerator };\n","/**\n * @author Prashant Sharma / spidersharma03\n * @author Ben Houston / bhouston, https://clara.io\n *\n * This class takes the cube lods(corresponding to different roughness values), and creates a single cubeUV\n * Texture. The format for a given roughness set of faces is simply::\n * +X+Y+Z\n * -X-Y-Z\n * For every roughness a mip map chain is also saved, which is essential to remove the texture artifacts due to\n * minification.\n * Right now for every face a PlaneMesh is drawn, which leads to a lot of geometry draw calls, but can be replaced\n * later by drawing a single buffer and by sending the appropriate faceIndex via vertex attributes.\n * The arrangement of the faces is fixed, as assuming this arrangement, the sampling function has been written.\n */\n\nimport {\n\tBackSide,\n\tCubeUVReflectionMapping,\n\tLinearFilter,\n\tLinearToneMapping,\n\tMesh,\n\tNoBlending,\n\tOrthographicCamera,\n\tPlaneBufferGeometry,\n\tRGBEEncoding,\n\tRGBM16Encoding,\n\tScene,\n\tShaderMaterial,\n\tVector2,\n\tVector3,\n\tWebGLRenderTarget\n} from \"three\";\n\nvar PMREMCubeUVPacker = ( function () {\n\n\tvar camera = new OrthographicCamera();\n\tvar scene = new Scene();\n\tvar shader = getShader();\n\n\tvar PMREMCubeUVPacker = function ( cubeTextureLods ) {\n\n\t\tthis.cubeLods = cubeTextureLods;\n\t\tvar size = cubeTextureLods[ 0 ].width * 4;\n\n\t\tvar sourceTexture = cubeTextureLods[ 0 ].texture;\n\t\tvar params = {\n\t\t\tformat: sourceTexture.format,\n\t\t\tmagFilter: sourceTexture.magFilter,\n\t\t\tminFilter: sourceTexture.minFilter,\n\t\t\ttype: sourceTexture.type,\n\t\t\tgenerateMipmaps: sourceTexture.generateMipmaps,\n\t\t\tanisotropy: sourceTexture.anisotropy,\n\t\t\tencoding: ( sourceTexture.encoding === RGBEEncoding ) ? RGBM16Encoding : sourceTexture.encoding\n\t\t};\n\n\t\tif ( params.encoding === RGBM16Encoding ) {\n\n\t\t\tparams.magFilter = LinearFilter;\n\t\t\tparams.minFilter = LinearFilter;\n\n\t\t}\n\n\t\tthis.CubeUVRenderTarget = new WebGLRenderTarget( size, size, params );\n\t\tthis.CubeUVRenderTarget.texture.name = \"PMREMCubeUVPacker.cubeUv\";\n\t\tthis.CubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\n\t\tthis.objects = [];\n\n\t\tvar geometry = new PlaneBufferGeometry( 1, 1 );\n\n\t\tvar faceOffsets = [];\n\t\tfaceOffsets.push( new Vector2( 0, 0 ) );\n\t\tfaceOffsets.push( new Vector2( 1, 0 ) );\n\t\tfaceOffsets.push( new Vector2( 2, 0 ) );\n\t\tfaceOffsets.push( new Vector2( 0, 1 ) );\n\t\tfaceOffsets.push( new Vector2( 1, 1 ) );\n\t\tfaceOffsets.push( new Vector2( 2, 1 ) );\n\n\t\tvar textureResolution = size;\n\t\tsize = cubeTextureLods[ 0 ].width;\n\n\t\tvar offset2 = 0;\n\t\tvar c = 4.0;\n\t\tthis.numLods = Math.log( cubeTextureLods[ 0 ].width ) / Math.log( 2 ) - 2; // IE11 doesn't support Math.log2\n\t\tfor ( var i = 0; i < this.numLods; i ++ ) {\n\n\t\t\tvar offset1 = ( textureResolution - textureResolution / c ) * 0.5;\n\t\t\tif ( size > 16 ) c *= 2;\n\t\t\tvar nMips = size > 16 ? 6 : 1;\n\t\t\tvar mipOffsetX = 0;\n\t\t\tvar mipOffsetY = 0;\n\t\t\tvar mipSize = size;\n\n\t\t\tfor ( var j = 0; j < nMips; j ++ ) {\n\n\t\t\t\t// Mip Maps\n\t\t\t\tfor ( var k = 0; k < 6; k ++ ) {\n\n\t\t\t\t\t// 6 Cube Faces\n\t\t\t\t\tvar material = shader.clone();\n\t\t\t\t\tmaterial.uniforms[ 'envMap' ].value = this.cubeLods[ i ].texture;\n\t\t\t\t\tmaterial.envMap = this.cubeLods[ i ].texture;\n\t\t\t\t\tmaterial.uniforms[ 'faceIndex' ].value = k;\n\t\t\t\t\tmaterial.uniforms[ 'mapSize' ].value = mipSize;\n\n\t\t\t\t\tvar planeMesh = new Mesh( geometry, material );\n\t\t\t\t\tplaneMesh.position.x = faceOffsets[ k ].x * mipSize - offset1 + mipOffsetX;\n\t\t\t\t\tplaneMesh.position.y = faceOffsets[ k ].y * mipSize - offset1 + offset2 + mipOffsetY;\n\t\t\t\t\tplaneMesh.material.side = BackSide;\n\t\t\t\t\tplaneMesh.scale.setScalar( mipSize );\n\t\t\t\t\tthis.objects.push( planeMesh );\n\n\t\t\t\t}\n\t\t\t\tmipOffsetY += 1.75 * mipSize;\n\t\t\t\tmipOffsetX += 1.25 * mipSize;\n\t\t\t\tmipSize /= 2;\n\n\t\t\t}\n\t\t\toffset2 += 2 * size;\n\t\t\tif ( size > 16 ) size /= 2;\n\n\t\t}\n\n\t};\n\n\tPMREMCubeUVPacker.prototype = {\n\n\t\tconstructor: PMREMCubeUVPacker,\n\n\t\tupdate: function ( renderer ) {\n\n\t\t\tvar size = this.cubeLods[ 0 ].width * 4;\n\t\t\t// top and bottom are swapped for some reason?\n\t\t\tcamera.left = - size * 0.5;\n\t\t\tcamera.right = size * 0.5;\n\t\t\tcamera.top = - size * 0.5;\n\t\t\tcamera.bottom = size * 0.5;\n\t\t\tcamera.near = 0;\n\t\t\tcamera.far = 1;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t\tfor ( var i = 0; i < this.objects.length; i ++ ) {\n\n\t\t\t\tscene.add( this.objects[ i ] );\n\n\t\t\t}\n\n\t\t\tvar gammaInput = renderer.gammaInput;\n\t\t\tvar gammaOutput = renderer.gammaOutput;\n\t\t\tvar toneMapping = renderer.toneMapping;\n\t\t\tvar toneMappingExposure = renderer.toneMappingExposure;\n\t\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\trenderer.gammaInput = false;\n\t\t\trenderer.gammaOutput = false;\n\t\t\trenderer.toneMapping = LinearToneMapping;\n\t\t\trenderer.toneMappingExposure = 1.0;\n\t\t\trenderer.setRenderTarget( this.CubeUVRenderTarget );\n\t\t\trenderer.render( scene, camera );\n\n\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\t\t\trenderer.toneMapping = toneMapping;\n\t\t\trenderer.toneMappingExposure = toneMappingExposure;\n\t\t\trenderer.gammaInput = gammaInput;\n\t\t\trenderer.gammaOutput = gammaOutput;\n\n\t\t\tfor ( var i = 0; i < this.objects.length; i ++ ) {\n\n\t\t\t\tscene.remove( this.objects[ i ] );\n\n\t\t\t}\n\n\t\t},\n\n\t\tdispose: function () {\n\n\t\t\tfor ( var i = 0, l = this.objects.length; i < l; i ++ ) {\n\n\t\t\t\tthis.objects[ i ].material.dispose();\n\n\t\t\t}\n\n\t\t\tthis.objects[ 0 ].geometry.dispose();\n\n\t\t}\n\n\t};\n\n\tfunction getShader() {\n\n\t\tvar shaderMaterial = new ShaderMaterial( {\n\n\t\t\tuniforms: {\n\t\t\t\t\"faceIndex\": { value: 0 },\n\t\t\t\t\"mapSize\": { value: 0 },\n\t\t\t\t\"envMap\": { value: null },\n\t\t\t\t\"testColor\": { value: new Vector3( 1, 1, 1 ) }\n\t\t\t},\n\n\t\t\tvertexShader:\n        \"precision highp float;\\\n        varying vec2 vUv;\\\n        void main() {\\\n          vUv = uv;\\\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\\n        }\",\n\n\t\t\tfragmentShader:\n        \"precision highp float;\\\n        varying vec2 vUv;\\\n        uniform samplerCube envMap;\\\n        uniform float mapSize;\\\n        uniform vec3 testColor;\\\n        uniform int faceIndex;\\\n        \\\n        void main() {\\\n          vec3 sampleDirection;\\\n          vec2 uv = vUv;\\\n          uv = uv * 2.0 - 1.0;\\\n          uv.y *= -1.0;\\\n          if(faceIndex == 0) {\\\n            sampleDirection = normalize(vec3(1.0, uv.y, -uv.x));\\\n          } else if(faceIndex == 1) {\\\n            sampleDirection = normalize(vec3(uv.x, 1.0, uv.y));\\\n          } else if(faceIndex == 2) {\\\n            sampleDirection = normalize(vec3(uv.x, uv.y, 1.0));\\\n          } else if(faceIndex == 3) {\\\n            sampleDirection = normalize(vec3(-1.0, uv.y, uv.x));\\\n          } else if(faceIndex == 4) {\\\n            sampleDirection = normalize(vec3(uv.x, -1.0, -uv.y));\\\n          } else {\\\n            sampleDirection = normalize(vec3(-uv.x, uv.y, -1.0));\\\n          }\\\n          vec4 color = envMapTexelToLinear( textureCube( envMap, sampleDirection ) );\\\n          gl_FragColor = linearToOutputTexel( color );\\\n        }\",\n\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tshaderMaterial.type = 'PMREMCubeUVPacker';\n\n\t\treturn shaderMaterial;\n\n\t}\n\n\n\treturn PMREMCubeUVPacker;\n\n} )();\n\nexport { PMREMCubeUVPacker };\n","/**\n * @author Prashant Sharma / spidersharma03\n * @author Ben Houston / bhouston, https://clara.io\n *\n * To avoid cube map seams, I create an extra pixel around each face. This way when the cube map is\n * sampled by an application later(with a little care by sampling the centre of the texel), the extra 1 border\n *\tof pixels makes sure that there is no seams artifacts present. This works perfectly for cubeUV format as\n *\twell where the 6 faces can be arranged in any manner whatsoever.\n * Code in the beginning of fragment shader's main function does this job for a given resolution.\n *\tRun Scene_PMREM_Test.html in the examples directory to see the sampling from the cube lods generated\n *\tby this class.\n */\n\nimport {\n\tDoubleSide,\n\tGammaEncoding,\n\tLinearEncoding,\n\tLinearFilter,\n\tLinearToneMapping,\n\tMesh,\n\tNearestFilter,\n\tNoBlending,\n\tOrthographicCamera,\n\tPlaneBufferGeometry,\n\tScene,\n\tShaderMaterial,\n\tWebGLRenderTargetCube,\n\tsRGBEncoding\n} from \"three\";\n\nvar PMREMGenerator = ( function () {\n\n\tvar shader = getShader();\n\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0.0, 1000 );\n\tvar scene = new Scene();\n\tvar planeMesh = new Mesh( new PlaneBufferGeometry( 2, 2, 0 ), shader );\n\tplaneMesh.material.side = DoubleSide;\n\tscene.add( planeMesh );\n\tscene.add( camera );\n\n\tvar PMREMGenerator = function ( sourceTexture, samplesPerLevel, resolution ) {\n\n\t\tthis.sourceTexture = sourceTexture;\n\t\tthis.resolution = ( resolution !== undefined ) ? resolution : 256; // NODE: 256 is currently hard coded in the glsl code for performance reasons\n\t\tthis.samplesPerLevel = ( samplesPerLevel !== undefined ) ? samplesPerLevel : 32;\n\n\t\tvar monotonicEncoding = ( this.sourceTexture.encoding === LinearEncoding ) ||\n\t\t\t( this.sourceTexture.encoding === GammaEncoding ) || ( this.sourceTexture.encoding === sRGBEncoding );\n\n\t\tthis.sourceTexture.minFilter = ( monotonicEncoding ) ? LinearFilter : NearestFilter;\n\t\tthis.sourceTexture.magFilter = ( monotonicEncoding ) ? LinearFilter : NearestFilter;\n\t\tthis.sourceTexture.generateMipmaps = this.sourceTexture.generateMipmaps && monotonicEncoding;\n\n\t\tthis.cubeLods = [];\n\n\t\tvar size = this.resolution;\n\t\tvar params = {\n\t\t\tformat: this.sourceTexture.format,\n\t\t\tmagFilter: this.sourceTexture.magFilter,\n\t\t\tminFilter: this.sourceTexture.minFilter,\n\t\t\ttype: this.sourceTexture.type,\n\t\t\tgenerateMipmaps: this.sourceTexture.generateMipmaps,\n\t\t\tanisotropy: this.sourceTexture.anisotropy,\n\t\t\tencoding: this.sourceTexture.encoding\n\t\t};\n\n\t\t// how many LODs fit in the given CubeUV Texture.\n\t\tthis.numLods = Math.log( size ) / Math.log( 2 ) - 2; // IE11 doesn't support Math.log2\n\n\t\tfor ( var i = 0; i < this.numLods; i ++ ) {\n\n\t\t\tvar renderTarget = new WebGLRenderTargetCube( size, size, params );\n\t\t\trenderTarget.texture.name = \"PMREMGenerator.cube\" + i;\n\t\t\tthis.cubeLods.push( renderTarget );\n\t\t\tsize = Math.max( 16, size / 2 );\n\n\t\t}\n\n\t};\n\n\tPMREMGenerator.prototype = {\n\n\t\tconstructor: PMREMGenerator,\n\n\t\t/*\n\t\t * Prashant Sharma / spidersharma03: More thought and work is needed here.\n\t\t * Right now it's a kind of a hack to use the previously convolved map to convolve the current one.\n\t\t * I tried to use the original map to convolve all the lods, but for many textures(specially the high frequency)\n\t\t * even a high number of samples(1024) dosen't lead to satisfactory results.\n\t\t * By using the previous convolved maps, a lower number of samples are generally sufficient(right now 32, which\n\t\t * gives okay results unless we see the reflection very carefully, or zoom in too much), however the math\n\t\t * goes wrong as the distribution function tries to sample a larger area than what it should be. So I simply scaled\n\t\t * the roughness by 0.9(totally empirical) to try to visually match the original result.\n\t\t * The condition \"if(i <5)\" is also an attemt to make the result match the original result.\n\t\t * This method requires the most amount of thinking I guess. Here is a paper which we could try to implement in future::\n\t\t * https://developer.nvidia.com/gpugems/GPUGems3/gpugems3_ch20.html\n\t\t */\n\t\tupdate: function ( renderer ) {\n\n\t\t\t// Texture should only be flipped for CubeTexture, not for\n\t\t\t// a Texture created via WebGLRenderTargetCube.\n\t\t\tvar tFlip = ( this.sourceTexture.isCubeTexture ) ? - 1 : 1;\n\n\t\t\tshader.defines[ 'SAMPLES_PER_LEVEL' ] = this.samplesPerLevel;\n\t\t\tshader.uniforms[ 'faceIndex' ].value = 0;\n\t\t\tshader.uniforms[ 'envMap' ].value = this.sourceTexture;\n\t\t\tshader.envMap = this.sourceTexture;\n\t\t\tshader.needsUpdate = true;\n\n\t\t\tvar gammaInput = renderer.gammaInput;\n\t\t\tvar gammaOutput = renderer.gammaOutput;\n\t\t\tvar toneMapping = renderer.toneMapping;\n\t\t\tvar toneMappingExposure = renderer.toneMappingExposure;\n\t\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\trenderer.toneMapping = LinearToneMapping;\n\t\t\trenderer.toneMappingExposure = 1.0;\n\t\t\trenderer.gammaInput = false;\n\t\t\trenderer.gammaOutput = false;\n\n\t\t\tfor ( var i = 0; i < this.numLods; i ++ ) {\n\n\t\t\t\tvar r = i / ( this.numLods - 1 );\n\t\t\t\tshader.uniforms[ 'roughness' ].value = r * 0.9; // see comment above, pragmatic choice\n\t\t\t\t// Only apply the tFlip for the first LOD\n\t\t\t\tshader.uniforms[ 'tFlip' ].value = ( i == 0 ) ? tFlip : 1;\n\t\t\t\tvar size = this.cubeLods[ i ].width;\n\t\t\t\tshader.uniforms[ 'mapSize' ].value = size;\n\t\t\t\tthis.renderToCubeMapTarget( renderer, this.cubeLods[ i ] );\n\n\t\t\t\tif ( i < 5 ) shader.uniforms[ 'envMap' ].value = this.cubeLods[ i ].texture;\n\n\t\t\t}\n\n\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\t\t\trenderer.toneMapping = toneMapping;\n\t\t\trenderer.toneMappingExposure = toneMappingExposure;\n\t\t\trenderer.gammaInput = gammaInput;\n\t\t\trenderer.gammaOutput = gammaOutput;\n\n\t\t},\n\n\t\trenderToCubeMapTarget: function ( renderer, renderTarget ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tthis.renderToCubeMapTargetFace( renderer, renderTarget, i );\n\n\t\t\t}\n\n\t\t},\n\n\t\trenderToCubeMapTargetFace: function ( renderer, renderTarget, faceIndex ) {\n\n\t\t\tshader.uniforms[ 'faceIndex' ].value = faceIndex;\n\t\t\trenderer.setRenderTarget( renderTarget, faceIndex );\n\t\t\trenderer.clear();\n\t\t\trenderer.render( scene, camera );\n\n\t\t},\n\n\t\tdispose: function () {\n\n\t\t\tfor ( var i = 0, l = this.cubeLods.length; i < l; i ++ ) {\n\n\t\t\t\tthis.cubeLods[ i ].dispose();\n\n\t\t\t}\n\n\t\t},\n\n\t};\n\n\tfunction getShader() {\n\n\t\tvar shaderMaterial = new ShaderMaterial( {\n\n\t\t\tdefines: {\n\t\t\t\t\"SAMPLES_PER_LEVEL\": 20,\n\t\t\t},\n\n\t\t\tuniforms: {\n\t\t\t\t\"faceIndex\": { value: 0 },\n\t\t\t\t\"roughness\": { value: 0.5 },\n\t\t\t\t\"mapSize\": { value: 0.5 },\n\t\t\t\t\"envMap\": { value: null },\n\t\t\t\t\"tFlip\": { value: - 1 },\n\t\t\t},\n\n\t\t\tvertexShader:\n\t\t\t\t\"varying vec2 vUv;\\n\\\n\t\t\t\tvoid main() {\\n\\\n\t\t\t\t\tvUv = uv;\\n\\\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\n\t\t\t\t}\",\n\n\t\t\tfragmentShader:\n\t\t\t\t\"#include <common>\\n\\\n\t\t\t\tvarying vec2 vUv;\\n\\\n\t\t\t\tuniform int faceIndex;\\n\\\n\t\t\t\tuniform float roughness;\\n\\\n\t\t\t\tuniform samplerCube envMap;\\n\\\n\t\t\t\tuniform float mapSize;\\n\\\n\t\t\t\tuniform float tFlip;\\n\\\n\t\t\t\t\\n\\\n\t\t\t\tfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\\n\t\t\t\t\tfloat a = ggxRoughness + 0.0001;\\n\\\n\t\t\t\t\ta *= a;\\n\\\n\t\t\t\t\treturn ( 2.0 / a - 2.0 );\\n\\\n\t\t\t\t}\\n\\\n\t\t\t\tvec3 ImportanceSamplePhong(vec2 uv, mat3 vecSpace, float specPow) {\\n\\\n\t\t\t\t\tfloat phi = uv.y * 2.0 * PI;\\n\\\n\t\t\t\t\tfloat cosTheta = pow(1.0 - uv.x, 1.0 / (specPow + 1.0));\\n\\\n\t\t\t\t\tfloat sinTheta = sqrt(1.0 - cosTheta * cosTheta);\\n\\\n\t\t\t\t\tvec3 sampleDir = vec3(cos(phi) * sinTheta, sin(phi) * sinTheta, cosTheta);\\n\\\n\t\t\t\t\treturn vecSpace * sampleDir;\\n\\\n\t\t\t\t}\\n\\\n\t\t\t\tvec3 ImportanceSampleGGX( vec2 uv, mat3 vecSpace, float Roughness )\\n\\\n\t\t\t\t{\\n\\\n\t\t\t\t\tfloat a = Roughness * Roughness;\\n\\\n\t\t\t\t\tfloat Phi = 2.0 * PI * uv.x;\\n\\\n\t\t\t\t\tfloat CosTheta = sqrt( (1.0 - uv.y) / ( 1.0 + (a*a - 1.0) * uv.y ) );\\n\\\n\t\t\t\t\tfloat SinTheta = sqrt( 1.0 - CosTheta * CosTheta );\\n\\\n\t\t\t\t\treturn vecSpace * vec3(SinTheta * cos( Phi ), SinTheta * sin( Phi ), CosTheta);\\n\\\n\t\t\t\t}\\n\\\n\t\t\t\tmat3 matrixFromVector(vec3 n) {\\n\\\n\t\t\t\t\tfloat a = 1.0 / (1.0 + n.z);\\n\\\n\t\t\t\t\tfloat b = -n.x * n.y * a;\\n\\\n\t\t\t\t\tvec3 b1 = vec3(1.0 - n.x * n.x * a, b, -n.x);\\n\\\n\t\t\t\t\tvec3 b2 = vec3(b, 1.0 - n.y * n.y * a, -n.y);\\n\\\n\t\t\t\t\treturn mat3(b1, b2, n);\\n\\\n\t\t\t\t}\\n\\\n\t\t\t\t\\n\\\n\t\t\t\tvec4 testColorMap(float Roughness) {\\n\\\n\t\t\t\t\tvec4 color;\\n\\\n\t\t\t\t\tif(faceIndex == 0)\\n\\\n\t\t\t\t\t\tcolor = vec4(1.0,0.0,0.0,1.0);\\n\\\n\t\t\t\t\telse if(faceIndex == 1)\\n\\\n\t\t\t\t\t\tcolor = vec4(0.0,1.0,0.0,1.0);\\n\\\n\t\t\t\t\telse if(faceIndex == 2)\\n\\\n\t\t\t\t\t\tcolor = vec4(0.0,0.0,1.0,1.0);\\n\\\n\t\t\t\t\telse if(faceIndex == 3)\\n\\\n\t\t\t\t\t\tcolor = vec4(1.0,1.0,0.0,1.0);\\n\\\n\t\t\t\t\telse if(faceIndex == 4)\\n\\\n\t\t\t\t\t\tcolor = vec4(0.0,1.0,1.0,1.0);\\n\\\n\t\t\t\t\telse\\n\\\n\t\t\t\t\t\tcolor = vec4(1.0,0.0,1.0,1.0);\\n\\\n\t\t\t\t\tcolor *= ( 1.0 - Roughness );\\n\\\n\t\t\t\t\treturn color;\\n\\\n\t\t\t\t}\\n\\\n\t\t\t\tvoid main() {\\n\\\n\t\t\t\t\tvec3 sampleDirection;\\n\\\n\t\t\t\t\tvec2 uv = vUv*2.0 - 1.0;\\n\\\n\t\t\t\t\tfloat offset = -1.0/mapSize;\\n\\\n\t\t\t\t\tconst float a = -1.0;\\n\\\n\t\t\t\t\tconst float b = 1.0;\\n\\\n\t\t\t\t\tfloat c = -1.0 + offset;\\n\\\n\t\t\t\t\tfloat d = 1.0 - offset;\\n\\\n\t\t\t\t\tfloat bminusa = b - a;\\n\\\n\t\t\t\t\tuv.x = (uv.x - a)/bminusa * d - (uv.x - b)/bminusa * c;\\n\\\n\t\t\t\t\tuv.y = (uv.y - a)/bminusa * d - (uv.y - b)/bminusa * c;\\n\\\n\t\t\t\t\tif (faceIndex==0) {\\n\\\n\t\t\t\t\t\tsampleDirection = vec3(1.0, -uv.y, -uv.x);\\n\\\n\t\t\t\t\t} else if (faceIndex==1) {\\n\\\n\t\t\t\t\t\tsampleDirection = vec3(-1.0, -uv.y, uv.x);\\n\\\n\t\t\t\t\t} else if (faceIndex==2) {\\n\\\n\t\t\t\t\t\tsampleDirection = vec3(uv.x, 1.0, uv.y);\\n\\\n\t\t\t\t\t} else if (faceIndex==3) {\\n\\\n\t\t\t\t\t\tsampleDirection = vec3(uv.x, -1.0, -uv.y);\\n\\\n\t\t\t\t\t} else if (faceIndex==4) {\\n\\\n\t\t\t\t\t\tsampleDirection = vec3(uv.x, -uv.y, 1.0);\\n\\\n\t\t\t\t\t} else {\\n\\\n\t\t\t\t\t\tsampleDirection = vec3(-uv.x, -uv.y, -1.0);\\n\\\n\t\t\t\t\t}\\n\\\n\t\t\t\t\tvec3 correctedDirection = vec3( tFlip * sampleDirection.x, sampleDirection.yz );\\n\\\n\t\t\t\t\tmat3 vecSpace = matrixFromVector( normalize( correctedDirection ) );\\n\\\n\t\t\t\t\tvec3 rgbColor = vec3(0.0);\\n\\\n\t\t\t\t\tconst int NumSamples = SAMPLES_PER_LEVEL;\\n\\\n\t\t\t\t\tvec3 vect;\\n\\\n\t\t\t\t\tfloat weight = 0.0;\\n\\\n\t\t\t\t\tfor( int i = 0; i < NumSamples; i ++ ) {\\n\\\n\t\t\t\t\t\tfloat sini = sin(float(i));\\n\\\n\t\t\t\t\t\tfloat cosi = cos(float(i));\\n\\\n\t\t\t\t\t\tfloat r = rand(vec2(sini, cosi));\\n\\\n\t\t\t\t\t\tvect = ImportanceSampleGGX(vec2(float(i) / float(NumSamples), r), vecSpace, roughness);\\n\\\n\t\t\t\t\t\tfloat dotProd = dot(vect, normalize(sampleDirection));\\n\\\n\t\t\t\t\t\tweight += dotProd;\\n\\\n\t\t\t\t\t\tvec3 color = envMapTexelToLinear(textureCube(envMap, vect)).rgb;\\n\\\n\t\t\t\t\t\trgbColor.rgb += color;\\n\\\n\t\t\t\t\t}\\n\\\n\t\t\t\t\trgbColor /= float(NumSamples);\\n\\\n\t\t\t\t\t//rgbColor = testColorMap( roughness ).rgb;\\n\\\n\t\t\t\t\tgl_FragColor = linearToOutputTexel( vec4( rgbColor, 1.0 ) );\\n\\\n\t\t\t\t}\",\n\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tshaderMaterial.type = 'PMREMGenerator';\n\n\t\treturn shaderMaterial;\n\n\t}\n\n\treturn PMREMGenerator;\n\n} )();\n\nexport { PMREMGenerator };\n","import React from 'react';\nimport ResizeObserver from \"resize-observer-polyfill\";\nimport './MainScene.scss';\nimport * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader';\n\nimport { EquirectangularToCubeGenerator } from '../libs/EquirectangularToCubeGenerator';\nimport { PMREMCubeUVPacker } from '../libs/PMREMCubeUVPacker';\nimport { PMREMGenerator } from '../libs/PMREMGenerator';\n\nimport * as POSTPROCESSING from 'postprocessing';\n\n\nexport default class MainScene extends React.Component {\n\n  state = {\n    width: 512,\n    height: 512,\n  };\n\n  /**\n   * Rendering\n   */\n  render() {\n    return (\n      <div className='mainScene' ref={(el) => { this.mainScene = el }}></div>\n    );\n  }\n\n  /**\n   * Initialization\n   */\n  componentDidMount() {\n\n    let self = this;\n\n    this.timer = 0;\n\n    this.clock = new THREE.Clock();\n\n\n    //Init scene\n    this.loadingManager = new THREE.LoadingManager();\n    this.loadingManager.onStart = function (url, itemsLoaded, itemsTotal) {\n\n      // console.log('Started loading file: ' + url + '.\\nLoaded ' + itemsLoaded + ' of ' + itemsTotal + ' files.');\n\n    };\n\n    this.loadingManager.onLoad = function () {\n\n      console.log('Loading complete!');\n\n      if (self.gun) {\n\n        self.scene.remove(self.rootObj);\n\n        self.rootObj = new THREE.Object3D();\n        self.scene.add(self.rootObj);\n\n        self.rootObj.add(self.gun);\n\n\n        self.scene.traverse(function (child) {\n          if (child.isMesh) {\n            child.material.envMap = self.envMap;\n            child.material.envMapIntensity = 3;\n          }\n        })\n      }\n\n    };\n\n\n    this.loadingManager.onProgress = function (url, itemsLoaded, itemsTotal) {\n\n      // console.log('Loading file: ' + url + '.\\nLoaded ' + itemsLoaded + ' of ' + itemsTotal + ' files.');\n\n    };\n\n    this.loadingManager.onError = function (url) {\n\n      // console.log('There was an error loading ' + url);\n\n    };\n\n    this.textureLoader = new THREE.TextureLoader(this.loadingManager);\n    this.cubeTextureLoader = new THREE.CubeTextureLoader(this.loadingManager);\n    this.gltfLoader = new GLTFLoader(this.loadingManager);\n    this.rgbeLoader = new RGBELoader(this.loadingManager);\n\n\n    /**\n     * Set environment\n     */\n\n    this.scene = new THREE.Scene();\n    self.scene.background = new THREE.Color(0xeeeeee);\n\n\n    this.camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.001, 1000);\n    this.camera.position.set(-0.5, 0.5, 0.5)\n\n\n    this.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: false });\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.autoClear = false;\n    this.renderer.gammaOutput = true;\n    this.renderer.gammaFactor = 3.2;\n    this.renderer.shadowMap.enabled = true;\n    this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n    this.mainScene.appendChild(this.renderer.domElement);\n\n\n    this.cameraCtrl = new OrbitControls(this.camera, this.renderer.domElement);\n    this.cameraCtrl.enableDamping = true;\n    this.cameraCtrl.screenSpacePanning = true;\n    this.cameraCtrl.dampingFactor = 0.06;\n    this.cameraCtrl.minDistance = 0.1;\n    this.cameraCtrl.maxDistance = 10;\n    this.cameraCtrl.rotateSpeed = 0.5\n    this.cameraCtrl.panSpeed = 0.5;\n    // this.cameraCtrl.enablePan = false;\n    this.cameraCtrl.target = new THREE.Vector3(0, 0.1, 0);\n\n\n    this.resizeObserver = new ResizeObserver(entries => {\n      const { width, height } = entries[0].contentRect;\n      this.setState({\n        width: Math.floor(width),\n        height: Math.floor(height)\n      });\n    });\n\n    this.resizeObserver.observe(this.mainScene);\n\n    //Root object of product\n    this.rootObj = new THREE.Object3D();\n    this.scene.add(this.rootObj);\n\n\n    //Light\n    var hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444, 0.5);\n    hemiLight.position.set(0, 20, 0);\n    this.scene.add(hemiLight);\n\n    var light = new THREE.AmbientLight(0xffffff, 1.5); // soft white light\n    this.scene.add(light);\n\n    var dirLight = new THREE.DirectionalLight(0xffffff, 1.8);\n    dirLight.position.set(1, 10, 10);\n    dirLight.castShadow = true;\n    dirLight.shadow.camera.top = 10;\n    dirLight.shadow.camera.bottom = - 10;\n    dirLight.shadow.camera.left = - 10;\n    dirLight.shadow.camera.right = 10;\n    dirLight.shadow.camera.near = 0.1;\n    dirLight.shadow.camera.far = 40;\n    dirLight.shadow.mapSize.width = 2048;\n    dirLight.shadow.mapSize.height = 2048;\n    this.scene.add(dirLight);\n\n    //Load envMap\n    this.rgbeLoader\n      .setDataType(THREE.UnsignedByteType)\n      .setPath('assets/textures/env/')\n      .load('023_hdrmaps_com_free.hdr', function (texture) {\n        var cubeGenerator = new EquirectangularToCubeGenerator(texture, { resolution: 2048 });\n        cubeGenerator.update(self.renderer);\n        var pmremGenerator = new PMREMGenerator(cubeGenerator.renderTarget.texture);\n        pmremGenerator.update(self.renderer);\n        var pmremCubeUVPacker = new PMREMCubeUVPacker(pmremGenerator.cubeLods);\n        pmremCubeUVPacker.update(self.renderer);\n        self.envMap = pmremCubeUVPacker.CubeUVRenderTarget.texture;\n        pmremGenerator.dispose();\n        pmremCubeUVPacker.dispose();\n        // self.scene.background = cubeGenerator.renderTarget;\n      });\n\n    this.initPostprocessing();\n\n    this.loadTable(0);\n\n    this.animate();\n\n\n    // /**\n    //  * Load assets\n    //  */\n\n\n    window.mainScene = this;\n  }\n\n  loadGLTF(url) {\n    var self = this;\n    this.gltfLoader.load(url, function (model) {\n      self.gun = model.scene.children[0].children[0].children[0].children[0];\n      self.gun.scale.set(0.1, 0.1, 0.1);\n      self.fitCameraToObject(self.gun, 3);\n    });\n  }\n\n\n  /**\n   * Remove all objects from scene\n   */\n\n  loadTable(id) {\n    var url = \"\";\n    if (id === 0) {\n      url = 'assets/models/akm/scene.gltf';\n    }\n    else {\n      url = 'assets/models/fal/scene.gltf';\n    }\n    this.loadGLTF(url);\n  }\n\n  fitCameraToObject(object, offset) {\n\n    offset = offset || 1.25;\n\n    const boundingBox = new THREE.Box3();\n\n    // get bounding box of object - this will be used to setup controls and camera\n    boundingBox.setFromObject(object);\n\n    const center = new THREE.Vector3();\n\n    boundingBox.getCenter(center);\n\n    const size = new THREE.Vector3();\n    boundingBox.getSize(size);\n\n    // get the max side of the bounding box (fits to width OR height as needed )\n    const maxDim = Math.max(size.x, size.y, size.z);\n\n    const fov = this.camera.fov * (Math.PI / 180);\n\n    var cameraZ = Math.abs(maxDim / 4);\n\n    cameraZ *= offset; // zoom out a little so that objects don't fill the screen\n\n    this.camera.position.z = cameraZ;\n\n    const minZ = boundingBox.min.z;\n    const cameraToFarEdge = (minZ < 0) ? -minZ + cameraZ : cameraZ - minZ;\n\n    this.camera.far = cameraToFarEdge * 3;\n    this.camera.updateProjectionMatrix();\n\n    if (this.cameraCtrl) {\n\n      // set camera to rotate around center of loaded object\n      this.cameraCtrl.target = center;\n\n      // prevent camera from zooming out far enough to create far plane cutoff\n      this.cameraCtrl.maxDistance = cameraToFarEdge * 2;\n\n      this.cameraCtrl.saveState();\n\n    } else {\n\n      this.camera.lookAt(center)\n\n    }\n  }\n\n  initPostprocessing = function () {\n\n    this.composer = new POSTPROCESSING.EffectComposer(this.renderer);\n\n    this.composer.addPass(new POSTPROCESSING.RenderPass(this.scene, this.camera));\n\n    const vignetteEffect = new POSTPROCESSING.VignetteEffect({\n      eskil: false,\n      offset: 0.18,\n      darkness: 0.7\n    });\n\n    const brightnessContrastEffect = new POSTPROCESSING.BrightnessContrastEffect({ contrast: 0.04, brightness: 0.01 });\n    const gammaCorrectionEffect = new POSTPROCESSING.GammaCorrectionEffect({ gamma: 2.2 });\n\n    const areaImage = new Image();\n    areaImage.src = POSTPROCESSING.SMAAEffect.areaImageDataURL;\n\n\n    const searchImage = new Image();\n    searchImage.src = POSTPROCESSING.SMAAEffect.searchImageDataURL;\n\n\n    var smaaEffect = new POSTPROCESSING.SMAAEffect(searchImage, areaImage);\n\n    var bloomEffect = new POSTPROCESSING.BloomEffect({\n      intensity: 0.2,\n      luminanceThreshold: 0.3,\n      luminanceSmoothing: 0.03,\n      resolutionScale: 1,\n    });\n\n\n    const hueSaturationEffect = new POSTPROCESSING.HueSaturationEffect({ hue: 0.0, saturation: -0.341 });\n\n    const effectPass = new POSTPROCESSING.EffectPass(\n      this.camera,\n      bloomEffect,\n      smaaEffect,\n      vignetteEffect,\n      brightnessContrastEffect,\n      gammaCorrectionEffect,\n      hueSaturationEffect,\n    );\n\n    effectPass.renderToScreen = true;\n    this.composer.addPass(effectPass);\n\n\n  }\n\n  updatePostprocessing = function () {\n    this.composer.render();\n  }\n\n  /**\n   * Animation loop\n   */\n\n  animate() {\n    requestAnimationFrame(this.animate.bind(this));\n\n    this.timer += this.clock.getDelta();\n\n\n    this.cameraCtrl.update();\n\n    // this.renderer.render(this.scene, this.camera);\n    this.updatePostprocessing();\n\n  }\n\n  /**\n   * Invalidation handler\n   */\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.renderer.setSize(this.state.width, this.state.height);\n    this.camera.aspect = this.state.width / this.state.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  /**\n   * Dispose\n   */\n  componentWillUnmount() {\n    this.resizeObserver.disconnect();\n  }\n\n}\n","import React from 'react';\r\nimport './SettingUI.scss';\r\nimport { Typography, makeStyles, ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    margin: {\r\n        height: theme.spacing(3),\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 230,\r\n    },\r\n}));\r\n\r\n\r\nexport default function SettingUI() {\r\n\r\n\r\n    const classes = useStyles();\r\n    const [tableID, setTable] = React.useState('');\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n\r\n    const handleChange = event => {\r\n        window.mainScene.loadTable(event.target.value);\r\n    };\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    return (\r\n        <div className='overlay-ui'>\r\n            <div className='root-ui'>\r\n\r\n                <ExpansionPanel>\r\n                    <ExpansionPanelSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1a-content\"\r\n                        id=\"panel1a-header\"\r\n                    >\r\n                        <Typography className={classes.heading}>Setting</Typography>\r\n                    </ExpansionPanelSummary>\r\n                    <ExpansionPanelDetails className=\"list\">\r\n                        <FormControl className={classes.formControl}>\r\n                            <InputLabel id=\"demo-controlled-open-select-label\">Select a gun</InputLabel>\r\n                            <Select\r\n                                labelId=\"demo-controlled-open-select-label\"\r\n                                id=\"demo-controlled-open-select\"\r\n                                open={open}\r\n                                onClose={handleClose}\r\n                                onOpen={handleOpen}\r\n                                value={tableID}\r\n                                onChange={handleChange}\r\n                            >\r\n                                <MenuItem value={0}>AKM</MenuItem>\r\n                                <MenuItem value={1}>FAL</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n\r\n\r\n            </div>\r\n        </div >\r\n    );\r\n\r\n}\r\n","import React from 'react';\nimport PageLayout from '../layouts/PageLayout';\nimport MainScene from '../components/MainScene';\nimport './Home.scss';\nimport SettingUI from '../components/SettingUI';\n\nconst Home = () => (\n  <PageLayout>\n    <SettingUI ></SettingUI>\n    <MainScene ></MainScene>\n  </PageLayout>\n);\n\nexport default Home;","import React from 'react';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\nimport Home from './containers/Home';\n\nconst Main = () => (\n  <BrowserRouter basename=\"/main\">\n    <Switch>\n      <Route exact path='/' component={Home}></Route>\n    </Switch>\n  </BrowserRouter>\n);\n\nexport default Main;","import React from 'react';\nimport Main from './Main';\nimport './App.scss';\n\nconst App = () => (\n  <div className='app'>\n    <Main />\n  </div>\n);\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './index.scss';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}